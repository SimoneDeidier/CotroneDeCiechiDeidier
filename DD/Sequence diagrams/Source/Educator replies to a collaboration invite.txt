title Educator replies to a collaboration invite

Logged educator->WebApplication: myNotifications
note over Logged educator: The procedure for seeing the\nnotifications is specified in a\nprevious sequence diagram
WebApplication-->Logged educator: notifications page
loop a problem occurs
alt educator rejects the invitation
Logged educator->WebApplication: respondToInvitation(response: boolean, invitationID: int)
WebApplication->EducatorManager: respondToInvitation(educatorID: int, response: boolean, invitationID: int)
EducatorManager->TournamentManager:respondToInvitation(educatorID: int, response: boolean, invitationID: int)
TournamentManager->DatabaseService:respondToInvitation(educatorID: int, response: boolean, invitationID: int)
DatabaseService->DataBase: respondToInvitation(educatorID: int, response: boolean, invitationID: int)
WebApplication-->Logged educator: updated notifications page

else educator accepts the invitation
Logged educator->WebApplication: respondToInvitation(response: boolean, invitationID: int)
WebApplication->EducatorManager: respondToInvitation(educatorID: int, response: boolean, invitationID: int)
EducatorManager->TournamentManager:respondToInvitation(educatorID: int, response: boolean, invitationID: int)
TournamentManager->DatabaseService:respondToInvitation(educatorID: int, response: boolean, invitationID: int)
DatabaseService->DataBase:respondToInvitation(educatorID: int, response: boolean, invitationID: int)
DataBase-->DatabaseService: result: boolean, error: String,tournamentID: int, username: String
DatabaseService-->TournamentManager:result: boolean, error: String,tournamentID: int, username: String

alt !result
TournamentManager-->EducatorManager: result: boolean, error: String
EducatorManager-->WebApplication:result: boolean, error: String
WebApplication-->Logged educator: errorPage

else result
TournamentManager->DatabaseService: setEducatorAsCollaborator(tournamentID: int, username: String)
DatabaseService->DataBase:setEducatorAsCollaborator(tournamentID: int, username: String)
DataBase-->DatabaseService: result: boolean
DatabaseService-->TournamentManager: result: boolean
TournamentManager-->EducatorManager: result: boolean
EducatorManager-->WebApplication:result: boolean
alt !result
WebApplication-->Logged educator:errorPage
else result
WebApplication-->Logged educator: updated notifications page
end

end

end
end

