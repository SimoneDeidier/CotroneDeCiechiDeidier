title Student signs up

frame Student signs up

actor Student
participant Web Application
participant Registration Service
participant Database Service
participant e-Mail Service
participant Database

Student->Web Application:openApplication()
Student<--Web Application: loginPage

Student->Web Application:clickOnSignUp()
Student<--Web Application: SignUpPage

loop while registration ends
Student->Web Application:submit(name:String,surname:String,\nemail:String, username:String, psw:String)
Web Application->Web Application:checkData(name:String,surname:String,\nemail:String, username:String, psw:String)

alt invalid data
Web Application->Student: alertSignUpFailed
else correct data
Web Application->Registration Service:SignUpRequest(name:String,surname:String,\nemail:String, username:String, psw:String)
Registration Service->Registration Service:checkCredentials(name:String,surname:String,\nemail:String, username:String, psw:String)

alt error
Registration Service->Web Application: error()
Web Application->Student:alertSignUpFailed
else
Registration Service->Database Service: newUser(name:String,surname:String,\nemail:String, username:String, psw:String)
Database Service->Database: InsertUser(name:String,surname:String,\nemail:String, username:String, psw:String)
Database Service<--Database:success: Boolean
Registration Service<--Database Service:success:Boolean
Web Application<--Registration Service:success:Boolean
alt success==false
Web Application->Student:alertSignUpFailed
else success==true
Web Application->Student:WaitingConfirmationPage()
Registration Service->e-Mail Service:sendEmail(text:String)
e-Mail Service->e-Mail Service: sendEmail(text:String)
Registration Service<--e-Mail Service: confirmation:Boolean
Registration Service->Web Application: confResult(confirmation:Boolean)
alt confirmation==false
Web Application->Student:alertConfFailed
else confirmation==true
Web Application->Student:loginPage()
end

end

end
end
end

